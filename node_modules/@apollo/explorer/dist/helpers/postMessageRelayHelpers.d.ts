import type { GraphQLError, IntrospectionQuery } from 'graphql';
import { PARTIAL_AUTHENTICATION_TOKEN_RESPONSE, EXPLORER_QUERY_MUTATION_RESPONSE, HANDSHAKE_RESPONSE, SCHEMA_ERROR, SCHEMA_RESPONSE } from './constants';
import type { JSONValue } from '../types';
export declare type HandleRequest = (endpointUrl: string, options: Omit<RequestInit, 'headers'> & {
    headers: Record<string, string>;
}) => Promise<Response>;
export declare function sendPostMessageToEmbed({ message, embeddedIFrameElement, embedUrl, }: {
    message: OutgoingEmbedMessage;
    embeddedIFrameElement: HTMLIFrameElement;
    embedUrl: string;
}): void;
declare type Error = {
    message: string;
    stack?: string;
};
export declare type OutgoingEmbedMessage = {
    name: typeof SCHEMA_ERROR;
    error?: string;
    errors?: Array<GraphQLError>;
} | {
    name: typeof SCHEMA_RESPONSE;
    schema: IntrospectionQuery | string | undefined;
} | {
    name: typeof HANDSHAKE_RESPONSE;
    graphRef?: string;
    inviteToken?: string;
    accountId?: string;
} | {
    name: typeof PARTIAL_AUTHENTICATION_TOKEN_RESPONSE;
    partialToken?: string;
} | {
    name: typeof EXPLORER_QUERY_MUTATION_RESPONSE;
    operationId: string;
    response: {
        data?: JSONValue;
        error?: Error;
        errors?: [Error];
        status?: number;
        headers?: Headers;
    };
};
export declare type IncomingEmbedMessage = MessageEvent;
export declare function executeOperation({ endpointUrl, handleRequest, operation, operationName, variables, headers, embeddedIFrameElement, operationId, embedUrl, }: {
    endpointUrl: string;
    handleRequest: HandleRequest;
    operation: string;
    operationId: string;
    embeddedIFrameElement: HTMLIFrameElement;
    operationName: string | undefined;
    variables?: Record<string, string>;
    headers?: Record<string, string>;
    embedUrl: string;
}): Promise<void>;
export declare function executeIntrospectionRequest({ endpointUrl, headers, introspectionRequestBody, embeddedIFrameElement, apolloStudioEnv, }: {
    endpointUrl: string;
    embeddedIFrameElement: HTMLIFrameElement;
    headers?: Record<string, string>;
    introspectionRequestBody: string;
    apolloStudioEnv: 'staging' | 'prod';
}): Promise<void>;
export {};
